{
  "hash": "af7a19ce784ea0f1bb56d3f7c6711c05",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 'Project Management: Let''s Get Organized'\ndescription: 'Know where you are...\n\n  '\ncreative_commons: CC BY\neditor_options:\n  chunk_output_type: console\n---\n\n\n\n\n\n\n:::obj\n\n**Learning objectives**\n \n - Understand motivation for project based workflows\n - Know how to organize code, data, and results\n - Know the basics of file paths and directory structures\n - Be able to create and use an RStudio project\n \n:::\n\n## Where Am I?\n\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![*A disorganized system for finding things*](images/Messy_storage_room_with_boxes.jpg){width=90%}\n:::\n:::\n\n\n\n \nAny time you are working on your computer, you must navigate amidst a forest of files and folders. \n\n  > One of the most common issues we deal with in `R` programming is to **tell your computer where a file or folder is located**. \n\nThus, one of the most useful habits you can form (whether using `R` or not), is to **intentionally keep a clear structure** and use that same structure across all of your projects. This becomes especially important when using computer programming languages like `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 581 512\" style=\"height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:steelblue;overflow:visible;stroke:3;position:relative;\"><path d=\"M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z\"/></svg>`{=html} in your work. You will need to tell `R`, very specifically, where you are and where your files are located in the forest of your computer. \n\n*Where you are* is typically referred to as the **working directory**. The working directory is a **folder**. In `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 581 512\" style=\"height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:steelblue;overflow:visible;stroke:3;position:relative;\"><path d=\"M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z\"/></svg>`{=html}, think of this as your homebase, and everything is *relative* to this folder on your computer.\n\n## Use Project Workflows\n\nOne of the great advantages of using tools like RStudio is they make it easy to use an organized \"**project**\" workflow. What do we mean by \"**using projects**\"? Projects refer to a general pattern or structure used for each work project or analysis. This approach is not specific to `R`. Any practiced data scientist will use a folder structure and organization scheme, no matter what programming language they use.\n\nThe general idea is to always use the same structure and naming schemes across every project. Do this every single time with every single project you make, in order to make it a habit. This will save you time and brainpower! Imagine quickly moving between tasks or projects with minimal time spent \"*trying to find where things are and getting oriented*\". You'll always know where things should be!\n\n\n### Basic Folders for Every Project\n\nAt a minimum, it’s useful to have separate directories (folders) for each of the following:\n\n - **`data`**: Ideally keep data in a `.csv` format, because these simple and universal data. You may have other specialized formats as well. This is generally where original, raw data lives.\n - **`data_output`**: This is where you save any data or analysis outputs. Any time you clean, tidy, summarize, or otherwise manipulate the data and save it out, it should end up somewhere clearly different than the raw data location.\n - **`scripts`**: In the `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 581 512\" style=\"height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:darkblue;overflow:visible;position:relative;\"><path d=\"M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z\"/></svg>`{=html} world, \"scripts\" are generally `.R` files. However, you may have `.do` files if wokring with Stata, `.py` files for Python, and so on. Using a sequential numbering file naming scheme can be useful. Remember to pad with a zero to make file sorting/ordering easy (e.g., `00_script_a.R`, `01_script_b.py`, etc).\n - **`results`**: These may include model results, data analysis, slides, and so on. Some like to keep figures in this folder and others prefer a specific `figures` folder.\n - **`documents`**: This is a place you can keep documents, papers, pdfs, etc. These may include files with `.docx`, `.Rmd` (for RMarkdown), `.pdf` or even `.html` extensions. \n \n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![*An example project folder structure*](https://gge-ucd.github.io/R-DAVIS/img/working-directory-structure.png){width=90%}\n:::\n:::\n\n\n\n \n### RStudio Projects\n\nWithin the R environment, something that makes project management and organization much easier is the use of RStudio Projects (`.Rproj` file). RStudio makes the use of Projects straightforward. One of the nicest parts of using **RStudio Projects** is that they automatically set the working directory to the folder containing a specified `.RProj` file. You can make any existing folder an RProject folder, or make a new one. RStudio projects are a great way to quickly and easily organize your workflows; each project can be a specific task, or a larger set of objectives you need to complete. With **RStudio Projects**, it's easy to switch between projects, or work on different projects simultaneously without much mental overload, *especially if you use the same project folder structure across each project*!\n\n<aside> Avoid using `setwd()`! More reasons and rationale [linked here](https://rstats.wtf/project-oriented-workflow.html#setwd). </aside>\n\n### Setting up an `.Rproj`\n\nLet's create an RStudio Project as part of this course that you can use throughout each module. We highly recommend that no matter what you are working on in `R`, that you try to do it within the structure of an RStudio Project!\n\n 1. Open RStudio and navigate to the upper right-hand side where it says \"**Project: (None)**\". If we click on this button, we should see some options. Select **New Project**. \n 2. We can use either a New Directory, or setup a project in an Existing Directory. Both give similar options.\n 3. Select \"**New Project**\"\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![*RStudio Project setup*](images/rproj_setup_figure.png){width=100%}\n:::\n:::\n\n\n\n\n 4. Make a new sub-directory folder (if you don't have it) under your Documents folder called: **`Rprojects`**\n \n<aside>\nIt's a good idea to keep all your R projects in one place. You can decide if this should be in your **`~/Documents`** folder, or somewhere else (associated with a version control or cloud service like Dropbox/Box/etc).\n</aside>\n\n 5. Finally, we can name our new project (remember no spaces in our folder/file names!): **`intro_r4wrds`**\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![*Make a new project named **intro_r4wrds***](images/rproj_new_intro-r4wrds.png){width=85%}\n:::\n:::\n\n\n\n\n### Make Folders & Add Data\n\nGreat! Now we can create a folder structure in our project as discussed in the [Basic Folders for Every Project] section above. More importantly, we can also put all our [course data](https://www.r4wrds.com/intro/m_install_r#step-5.-download-workshop-datasets) into the **`data`** folder in your RStudio project.\n\n<aside>\nWe can't drag and drop files from an Explorer or Finder window directly into RStudio. We can only go from Explorer to Explorer. In the **`Files`** tab, click on *More* with the little `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 512 512\" style=\"height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:steelblue;overflow:visible;position:relative;\"><path d=\"M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z\"/></svg>`{=html}, and then select \"**Show Folder in New Window**\".\n</aside>\n\nLet's go ahead and make the following folders (*HINT: you can use the \"New Folder\" button in RStudio, or use the code below!*)\n\n - `data` \n - `data_output`\n - `figures`\n - `scripts`\n \n\n\n\n::: {.cell}\n\n:::\n\n\n\n \nWe can download data directly via the `download.file()` function.\nIn your `Console` tab, you can enter this code to download the data into your `data` folder!\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# downloads the file (data.zip) to your data directory\ndownload.file(\"https://github.com/r4wrds/r4wrds-data-intro/raw/main/data.zip\", \n              destfile = \"data/data.zip\")\n\n# unzip the datasets for the course:\nunzip(zipfile = \"data/data.zip\")\n```\n:::\n\n\n\n\n\n\n## File Paths\n\nIn R, file paths are always wrapped in quotes. There are 2 basic kinds of file paths: \n \n - **Absolute**: Absolute paths list out the full file path, usually starting with your username, which you can also refer to using the shortcut ~. So instead of `C:/MyName/Documents` or `/Users/MyName/Documents`, you can type `~/Documents`. **But generally, the only place an absolute path will work is your computer! It will break on anyone else computer, or anytime you move or rename something!**\n \n - **Relative**: Relative paths are relative to your working directory. So if R thinks we’re in that `~/MyName/Documents/Projects/2020` folder, and we want to access a file in a folder inside it called `data`, we can type `data/my_file` instead of `~MyName/Documents/Projects/2020/data`. \n\nThe good news is if you setup an RStudio project as shown above, you can use relative filepaths with ease!\n\n### The Working Directory\n\nOur working directory *should* be the root place where our **project** lives (as shown above). You can always check what `R` thinks is the working directory with `getwd()`, and you should see the folder where your **`.Rproj`** file lives! Importantly, everything you do should be relative to that working directory. \n\nThat means we really **don't** want to use things like `setwd()` (set working directory) to locate a file or folder on our computer, or use a hard path (i.e., a full path like `C:/MyUserName/My_Documents/A_Folder_You_May_Have/But_This_One_You_Definitely_Dont/`). That's because this will pretty much **never** work on anyone's computer other than your own, and sometimes it may not even work on your own computer if you change a file name or folder! How can we make things reproducible for others, and for our future self? We advise using the `here` package.\n\n\n### Using the **[`here`](https://here.r-lib.org/)** package\n\nGood news! There's a package designed to make project-based workflows work so that code is portable between machines (i.e., you can share your project with a collaborator and they don't need to fiddle with working directories and file paths). The **`here`** package makes it easy to create a path *relative* to the top-level directory (the place where your current project is) with a single function: `here()`. In addition, we can use `here()` to build a relative path to a file for saving or loading. Let's say we're working in our `MyName/Documents/Projects/2020` folder.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(here)\n\n# identify your working directory.\nhere()\n\n# will be something like this:\n#> [1] /Users/MyName/Documents/Projects/MyProject\n\n# read a file from our data folder! `data/nwis_sites_american_river.csv`\nread.csv(here(\"data\", \"nwis_sites_american_river.csv\"))\n```\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![*Illustration by @allison_horst.*](https://raw.githubusercontent.com/allisonhorst/stats-illustrations/master/rstats-artwork/here.png){width=90%}\n:::\n:::\n\n\n\n\nUsing the **`here`** package means we can share our project with other folks and it will work, and if something changes around inside the project, it will remain functional and accessible.\n\nIn practice however, if we **always work from within an RProject**, we can simply use relative paths without the `here()` syntax -- that syntax just makes it very explicit what we're doing. \n\n## Best Practices: Project Organization/Workflow Tips\n\nAlthough there is no “best” way to lay out a project, there are some general principles to adhere to that will make project management easier. Here's some sage advice from Jenny Bryan and Jim Hester from [What They Forgot to Teach you About R](https://rstats.wtf/) (worth checking out!):\n\n - File system discipline: put all the files related to a single project in a designated folder.\n - This applies to data, code, figures, notes, etc.\n - Depending on project complexity, you might enforce further organization into subfolders.\n - Use a standard naming convention for files & folders (*no spaces!*).\n - Don't use absolute paths!\n - File path discipline: all paths are relative and, by default, relative to the project’s (your working directory) folder.\n\n### Always start R as a blank slate\n\nWhen you quit R, do not save the workspace to an `.Rdata` file. When you launch, do not reload the workspace from an `.Rdata` file.\n\nIn fact, we should all make our default setting a blank slate. We should only be loading and working on data and code that we knowingly and willingly open or import into R.\n\n > In RStudio, set this via *Tools > Global Options*\n \n\n\n\n\n::: {.cell preview='true'}\n::: {.cell-output-display}\n![*Change defaults to never save your workspace to `.RData`! (Credit to Jenny Bryan and Jim Hester at [rstats.wtf](https://rstats.wtf/save-source.html))*](images/rstudio-workspace-default.png){width=100%}\n:::\n:::\n\n\n\n\n### Safe File Naming\n\nThis is really important and will make life easier for everyone in the long run. Jenny Bryan has the best set of slides on this, so take a few minutes and go read them. Then be the change!\n\n > [Slides You Need to Read](https://speakerdeck.com/jennybc/how-to-name-files)\n \n**TL&DR** *(Too long, didn't read)*\n \n - File names should be machine readable (i.e., no spaces)\n - Human readable (`m_import_clean_data.R`)\n - Makes default ordering easy (i.e., dates are always `YYYY-MM-DD`)\n\n### Treat raw data as *Read Only*\n\nThis is probably the most important tip for making a project reproducible and hassle free. Raw data should never be edited, because you don't want to permanently change your starting point in an analysis, and you want to have a record of any changes you make to data. Therefore, treat your raw data as “read only”, perhaps even making a **`raw_data`** directory that is never modified. If you do some data cleaning or modification, save the modified file separate from the raw data, and ideally keep all the modifying actions in a script so that you can review and revise them as needed in the future.\n\n### Treat generated output as disposable\n\nAnything generated by your scripts should be treated as disposable: it should all be able to be regenerated with code. Don't get attached to anything other than your raw data, and your code! There are lots of different ways to manage this output, and what’s best may depend on the particular kind of project. \n\n## Summary\n\nThere are many ways to use project-based workflows in `R`. Importantly, we advise that you find a strategy that works for the majority of the work you do, and then be consistent about organizing things the same way (from folder structure to file naming). This will help folks you work with, it will help you (including your future self), and you spend less time figuring out where you are (and where the pieces you need to do work with are) and more time doing the work you need to do!\n\n\n*Lesson adapted from [R-DAVIS](https://gge-ucd.github.io/R-DAVIS/index.qmd), Jenny Bryan and Jim Hester's [What they forgot to teach you about R](https://rstats.wtf/), and the [Data Carpentry: R for data analysis and visualization of Ecological Data](https://datacarpentry.org/R-ecology-lesson/index.qmd) lessons*.\n\n<br> \n\n\n",
    "supporting": [
      "m_project_management_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}