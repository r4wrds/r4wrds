<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
  <title>R for Water Resources Data Science: Spreadsheets &amp; Pivoting</title>

  <meta property="description" itemprop="description" content="Tidy data and best practices for spreadsheets!"/>



  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="R for Water Resources Data Science: Spreadsheets &amp; Pivoting"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Tidy data and best practices for spreadsheets!"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:site_name" content="R for Water Resources Data Science"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="R for Water Resources Data Science: Spreadsheets &amp; Pivoting"/>
  <meta property="twitter:description" content="Tidy data and best practices for spreadsheets!"/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","output"]}},"value":[{"type":"character","attributes":{},"value":["Spreadsheets & Pivoting"]},{"type":"character","attributes":{},"value":["Tidy data and best practices for spreadsheets!\n"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["toc","highlight"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["kate"]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  <!--radix_placeholder_navigation_in_header-->
  <meta name="distill:offset" content=""/>

  <script type="application/javascript">

    window.headroom_prevent_pin = false;

    window.document.addEventListener("DOMContentLoaded", function (event) {

      // initialize headroom for banner
      var header = $('header').get(0);
      var headerHeight = header.offsetHeight;
      var headroom = new Headroom(header, {
        tolerance: 5,
        onPin : function() {
          if (window.headroom_prevent_pin) {
            window.headroom_prevent_pin = false;
            headroom.unpin();
          }
        }
      });
      headroom.init();
      if(window.location.hash)
        headroom.unpin();
      $(header).addClass('headroom--transition');

      // offset scroll location for banner on hash change
      // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
      window.addEventListener("hashchange", function(event) {
        window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
      });

      // responsive menu
      $('.distill-site-header').each(function(i, val) {
        var topnav = $(this);
        var toggle = topnav.find('.nav-toggle');
        toggle.on('click', function() {
          topnav.toggleClass('responsive');
        });
      });

      // nav dropdowns
      $('.nav-dropbtn').click(function(e) {
        $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
        $(this).parent().siblings('.nav-dropdown')
           .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $("body").click(function(e){
        $('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $(".nav-dropdown").click(function(e){
        e.stopPropagation();
      });
    });
  </script>

  <style type="text/css">

  /* Theme (user-documented overrideables for nav appearance) */

  .distill-site-nav {
    color: rgba(255, 255, 255, 0.8);
    background-color: #0F2E3D;
    font-size: 15px;
    font-weight: 300;
  }

  .distill-site-nav a {
    color: inherit;
    text-decoration: none;
  }

  .distill-site-nav a:hover {
    color: white;
  }

  @media print {
    .distill-site-nav {
      display: none;
    }
  }

  .distill-site-header {

  }

  .distill-site-footer {

  }


  /* Site Header */

  .distill-site-header {
    width: 100%;
    box-sizing: border-box;
    z-index: 3;
  }

  .distill-site-header .nav-left {
    display: inline-block;
    margin-left: 8px;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header .nav-left {
      margin-left: 0;
    }
  }


  .distill-site-header .nav-right {
    float: right;
    margin-right: 8px;
  }

  .distill-site-header a,
  .distill-site-header .title {
    display: inline-block;
    text-align: center;
    padding: 14px 10px 14px 10px;
  }

  .distill-site-header .title {
    font-size: 18px;
    min-width: 150px;
  }

  .distill-site-header .logo {
    padding: 0;
  }

  .distill-site-header .logo img {
    display: none;
    max-height: 20px;
    width: auto;
    margin-bottom: -4px;
  }

  .distill-site-header .nav-image img {
    max-height: 18px;
    width: auto;
    display: inline-block;
    margin-bottom: -3px;
  }



  @media screen and (min-width: 1000px) {
    .distill-site-header .logo img {
      display: inline-block;
    }
    .distill-site-header .nav-left {
      margin-left: 20px;
    }
    .distill-site-header .nav-right {
      margin-right: 20px;
    }
    .distill-site-header .title {
      padding-left: 12px;
    }
  }


  .distill-site-header .nav-toggle {
    display: none;
  }

  .nav-dropdown {
    display: inline-block;
    position: relative;
  }

  .nav-dropdown .nav-dropbtn {
    border: none;
    outline: none;
    color: rgba(255, 255, 255, 0.8);
    padding: 16px 10px;
    background-color: transparent;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    margin: 0;
    margin-top: 1px;
    z-index: 2;
  }

  .nav-dropdown-content {
    display: none;
    position: absolute;
    background-color: white;
    min-width: 200px;
    border: 1px solid rgba(0,0,0,0.15);
    border-radius: 4px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
    z-index: 1;
    margin-top: 2px;
    white-space: nowrap;
    padding-top: 4px;
    padding-bottom: 4px;
  }

  .nav-dropdown-content hr {
    margin-top: 4px;
    margin-bottom: 4px;
    border: none;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .nav-dropdown-active {
    display: block;
  }

  .nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
    color: black;
    padding: 6px 24px;
    text-decoration: none;
    display: block;
    text-align: left;
  }

  .nav-dropdown-content .nav-dropdown-header {
    display: block;
    padding: 5px 24px;
    padding-bottom: 0;
    text-transform: uppercase;
    font-size: 14px;
    color: #999999;
    white-space: nowrap;
  }

  .nav-dropdown:hover .nav-dropbtn {
    color: white;
  }

  .nav-dropdown-content a:hover {
    background-color: #ddd;
    color: black;
  }

  .nav-right .nav-dropdown-content {
    margin-left: -45%;
    right: 0;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
    .distill-site-header a.nav-toggle {
      float: right;
      display: block;
    }
    .distill-site-header .title {
      margin-left: 0;
    }
    .distill-site-header .nav-right {
      margin-right: 0;
    }
    .distill-site-header {
      overflow: hidden;
    }
    .nav-right .nav-dropdown-content {
      margin-left: 0;
    }
  }


  @media screen and (max-width: 768px) {
    .distill-site-header.responsive {position: relative; min-height: 500px; }
    .distill-site-header.responsive a.nav-toggle {
      position: absolute;
      right: 0;
      top: 0;
    }
    .distill-site-header.responsive a,
    .distill-site-header.responsive .nav-dropdown {
      display: block;
      text-align: left;
    }
    .distill-site-header.responsive .nav-left,
    .distill-site-header.responsive .nav-right {
      width: 100%;
    }
    .distill-site-header.responsive .nav-dropdown {float: none;}
    .distill-site-header.responsive .nav-dropdown-content {position: relative;}
    .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
      display: block;
      width: 100%;
      text-align: left;
    }
  }

  /* Site Footer */

  .distill-site-footer {
    width: 100%;
    overflow: hidden;
    box-sizing: border-box;
    z-index: 3;
    margin-top: 30px;
    padding-top: 30px;
    padding-bottom: 30px;
    text-align: center;
  }

  /* Headroom */

  d-title {
    padding-top: 6rem;
  }

  @media print {
    d-title {
      padding-top: 4rem;
    }
  }

  .headroom {
    z-index: 1000;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
  }

  .headroom--transition {
    transition: all .4s ease-in-out;
  }

  .headroom--unpinned {
    top: -100px;
  }

  .headroom--pinned {
    top: 0;
  }

  /* adjust viewport for navbar height */
  /* helps vertically center bootstrap (non-distill) content */
  .min-vh-100 {
    min-height: calc(100vh - 100px) !important;
  }

  </style>

  <script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
  <link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
  <link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
  <script src="site_libs/headroom-0.9.4/headroom.min.js"></script>
  <script src="site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
  <script src="site_libs/fuse-6.4.1/fuse.min.js"></script>

  <script type="application/javascript">

  function getMeta(metaName) {
    var metas = document.getElementsByTagName('meta');
    for (let i = 0; i < metas.length; i++) {
      if (metas[i].getAttribute('name') === metaName) {
        return metas[i].getAttribute('content');
      }
    }
    return '';
  }

  function offsetURL(url) {
    var offset = getMeta('distill:offset');
    return offset ? offset + '/' + url : url;
  }

  function createFuseIndex() {

    // create fuse index
    var options = {
      keys: [
        { name: 'title', weight: 20 },
        { name: 'categories', weight: 15 },
        { name: 'description', weight: 10 },
        { name: 'contents', weight: 5 },
      ],
      ignoreLocation: true,
      threshold: 0
    };
    var fuse = new window.Fuse([], options);

    // fetch the main search.json
    return fetch(offsetURL('search.json'))
      .then(function(response) {
        if (response.status == 200) {
          return response.json().then(function(json) {
            // index main articles
            json.articles.forEach(function(article) {
              fuse.add(article);
            });
            // download collections and index their articles
            return Promise.all(json.collections.map(function(collection) {
              return fetch(offsetURL(collection)).then(function(response) {
                if (response.status === 200) {
                  return response.json().then(function(articles) {
                    articles.forEach(function(article) {
                      fuse.add(article);
                    });
                  })
                } else {
                  return Promise.reject(
                    new Error('Unexpected status from search index request: ' +
                              response.status)
                  );
                }
              });
            })).then(function() {
              return fuse;
            });
          });

        } else {
          return Promise.reject(
            new Error('Unexpected status from search index request: ' +
                        response.status)
          );
        }
      });
  }

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // get search element (bail if we don't have one)
    var searchEl = window.document.getElementById('distill-search');
    if (!searchEl)
      return;

    createFuseIndex()
      .then(function(fuse) {

        // make search box visible
        searchEl.classList.remove('hidden');

        // initialize autocomplete
        var options = {
          autoselect: true,
          hint: false,
          minLength: 2,
        };
        window.autocomplete(searchEl, options, [{
          source: function(query, callback) {
            const searchOptions = {
              isCaseSensitive: false,
              shouldSort: true,
              minMatchCharLength: 2,
              limit: 10,
            };
            var results = fuse.search(query, searchOptions);
            callback(results
              .map(function(result) { return result.item; })
            );
          },
          templates: {
            suggestion: function(suggestion) {
              var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
                ? `<img src="${offsetURL(suggestion.preview)}"</img>`
                : '';
              var html = `
                <div class="search-item">
                  <h3>${suggestion.title}</h3>
                  <div class="search-item-description">
                    ${suggestion.description || ''}
                  </div>
                  <div class="search-item-preview">
                    ${img}
                  </div>
                </div>
              `;
              return html;
            }
          }
        }]).on('autocomplete:selected', function(event, suggestion) {
          window.location.href = offsetURL(suggestion.path);
        });
        // remove inline display style on autocompleter (we want to
        // manage responsive display via css)
        $('.algolia-autocomplete').css("display", "");
      })
      .catch(function(error) {
        console.log(error);
      });

  });

  </script>

  <style type="text/css">

  .nav-search {
    font-size: x-small;
  }

  /* Algolioa Autocomplete */

  .algolia-autocomplete {
    display: inline-block;
    margin-left: 10px;
    vertical-align: sub;
    background-color: white;
    color: black;
    padding: 6px;
    padding-top: 8px;
    padding-bottom: 0;
    border-radius: 6px;
    border: 1px #0F2E3D solid;
    width: 180px;
  }


  @media screen and (max-width: 768px) {
    .distill-site-nav .algolia-autocomplete {
      display: none;
      visibility: hidden;
    }
    .distill-site-nav.responsive .algolia-autocomplete {
      display: inline-block;
      visibility: visible;
    }
    .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
      margin-left: 0;
      width: 400px;
      max-height: 400px;
    }
  }

  .algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
    width: 90%;
    outline: none;
    border: none;
  }

  .algolia-autocomplete .aa-hint {
    color: #999;
  }
  .algolia-autocomplete .aa-dropdown-menu {
    width: 550px;
    max-height: 70vh;
    overflow-x: visible;
    overflow-y: scroll;
    padding: 5px;
    margin-top: 3px;
    margin-left: -150px;
    background-color: #fff;
    border-radius: 5px;
    border: 1px solid #999;
    border-top: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
    cursor: pointer;
    padding: 5px 4px;
    border-bottom: 1px solid #eee;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
    border-bottom: none;
    margin-bottom: 2px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
    overflow: hidden;
    font-size: 0.8em;
    line-height: 1.4em;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
    font-size: 1rem;
    margin-block-start: 0;
    margin-block-end: 5px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
    display: inline-block;
    overflow: hidden;
    height: 2.8em;
    width: 80%;
    margin-right: 4%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
    display: inline-block;
    width: 15%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
    height: 3em;
    width: auto;
    display: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
    display: initial;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
    background-color: #eee;
  }
  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
    font-weight: bold;
    font-style: normal;
  }

  </style>


  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="site_libs/header-attrs-2.7/header-attrs.js"></script>
  <script src="site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <style type="text/css">
  @import url('https://fonts.googleapis.com/css?family=Lora:400,400i&display=swap');
  @import url('https://fonts.googleapis.com/css?family=Roboto:400,400i&display=swap');

  body {font-size: 15px; line-height: 1.6;}
  h1 {font-size: 40px;}
  h2 {font-size: 30px;}
  h3 {font-size: 23px;}


  .navbar-inverse {
   background-color:#002855;
   border-color:#004088
  }

  .navbar-inverse .navbar-text {
   color:#ffffff
  }

  body {
      font-size: 15px;
  }

  p {
      font-size: 1.1em;
  }

  pre {
      font-size: 15px;
  }

  /*blue comment box */
  .blue {
      background-color:#e6f0ff; 
      border-radius: 4px; 
      padding: 12px;
  }

  /* add a summary click box option */

  /* turn off arrow completely in summary box */
  summary::-webkit-details-marker {
    display: none;
  }

  /* make marker something before click */
  summary::before {
      font-family: "Font Awesome 5 Free"; 
      font-weight: 900; 
      content: "\f13a";
      color: #228B22;
  }

  /* and after click */
  details[open] summary:before {
      font-family: "Font Awesome 5 Free"; 
      font-weight: 900; 
      content: "\f139";
      color: gray;
  }

  .challenge-ans-title {
    font-size: 18px;
    line-height: 1.5em;
    font-family: "Roboto";
    background-color:#e6f0ff;
    text-transform: uppercase;
    font-style: bold;
    letter-spacing: 0.1em;
  }

  .challenge-ans-body {
    padding: 1em;
    background-color:#e6f0ff;
    font-family: 'Lora';
        font-size: 16px;
        font-weight: normal;
  }

  .extra-practice-title {
    font-size: 16px;
    line-height: 1.5em;
    font-family: "Roboto";
    background-color: #D9E8E1;
    letter-spacing: 0.1em;
  }

  .extra-practice-body {
    padding: 1em;
    background-color: #D9E8E1;
    font-family: 'Lora';
        font-size: 16px;
        font-weight: normal;
  }

  /* see giraffe teacup site for great css tips: https://github.com/tinystats/teacups-giraffes-and-statistics/blob/master/assets/style.css 
  css below is adapted from that page */

  .obj {
    border: 4px #002855;
    border-style: solid;
    padding: 1em;
    margin: 1em 0;
    min-height: 120px;
    /*color: #638f9d;*/
    color: #002855;
    background-color: #ffffff;
    font-size: 16px;
    line-height: 1.5em;
    font-family: "Roboto";
    /*background-image: url("../images/arrow.png");*/
  }

  .obj>p:first-child {
    padding-top: 0;
    margin-top: 0 !important;
    font-family: "Lora";
    text-transform: uppercase;
    letter-spacing: 0.1em;
  }

  .challenge {
    color: #002855;
    background-color:#e6f0ff; 
    border-radius: 4px; 
    padding: 12px;
    font-size: 16px;
    line-height: 1.3em;
    font-family: "Roboto";
    /*background-image: url("../images/arrow.png");*/
  }

  .challenge>p:first-child {
    padding-top: 0;
    margin-top: 0 !important;
    font-family: "Lora";
    text-transform: uppercase;
    letter-spacing: 0.1em;
  }


  /* LARGE IMAGE AT TOP OF EACH MODULE PAGE*/
  .image-descript {
      position: relative;
  }

  /*.big_image is for module pages*/

  .big_image {
    margin-top: -50px;
    margin-bottom: 2em;
    width: 100%;
  }

  .image-text{
      position: absolute;
      top:30%; /*# was 30% */
      left:0;
      right:0;
      bottom:0;
    }
    
  .lil-image-text { 
      margin-right: auto;
      margin-bottom: 20px;
      margin-left: auto;
      text-align: center; 
      display:block;
      font-family: 'Lora', serif;
        font-size: 24px;
        line-height: 1.5em;
        letter-spacing: 1px;
        font-style: italic;
        font-weight: normal;
        color: #fff;
    }

  .big-image-text { 
    letter-spacing: 0.065em;
    line-height: 1em;
    font-size: 68px;
    text-transform: uppercase;
    text-align: center; 
    display:block;
    color: #fff;
    margin-bottom: 3rem;
  }

  .lil-image-text-dark { 
      margin-right: auto;
      margin-bottom: 24px;
      margin-left: auto;
      text-align: center; 
      display:block;
      font-family: 'Lora', serif;
        font-size: 40px;
        font-weight: normal;
        line-height: 1.5em;
        letter-spacing: 1px;
        font-style: italic;
        color: #191919;
    }

  .big-image-text-dark { 
    letter-spacing: 0.065em;
    line-height: 1em;
    font-size: 68px;
    text-transform: uppercase;
    text-align: center; 
    display:block;
    color: #191919;
    margin-bottom: 3rem;
  }


  .color-overlay {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: rgba(0,0,0,.1);
  }


  /*grey code block*/

  .sourceCode {
    background-color:#f4f4f4;
  }
  </style>
  <!--/radix_placeholder_site_in_header-->

  <link rel="stylesheet" href="styles.css" type="text/css"/>

</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Spreadsheets & Pivoting","description":"Tidy data and best practices for spreadsheets!","authors":[]}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="index.html" class="title">R4WRDS Introductory Course</a>
</div>
<div class="nav-right">
<div class="nav-dropdown">
<button class="nav-dropbtn">
Modules
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="m_install_R.html">Module 1: Install R and RStudio</a>
<a href="m_getting_started.html">Module 2: Get oriented in RStudio</a>
<a href="m_project_management.html">Module 3: Project management</a>
<a href="m_importing_and_exporting_data.html">Module 4: Import and export data</a>
<a href="m_ggplot.html">Module 5: Data visualization</a>
<a href="m_data_structures.html">Module 6: Data structures</a>
<a href="m_dplyr.html">Module 7: Data wrangling</a>
<a href="m_pivots.html">Module 8: Spreadsheets &amp; Pivots</a>
<a href="m_functions.html">Module 9: Functions</a>
<a href="m_joins.html">Module 10: Joins &amp; binds</a>
<a href="m_intro_mapmaking.html">Module 11: Spatial data</a>
<a href="m_exploratory_DA.html">Module 12: EDA</a>
<a href="m_intro_Rmarkdown.html">Module 13: RMarkdown</a>
<a href="m_troubleshooting.html">Module 14: Troubleshooting</a>
</div>
</div>
<a href="../index.html">
<i class="fa fa-home fa-lg" aria-hidden="true"></i>
</a>
<a href="https://github.com/ryanpeek/r4wrds/">
<i class="fa fa-github fa-lg" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Spreadsheets &amp; Pivoting</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>Tidy data and best practices for spreadsheets!</p></p>
</div>


<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#spreadsheets">Spreadsheets</a></li>
<li><a href="#what-is-tidy-data">What is Tidy Data?</a>
<ul>
<li><a href="#dealing-with-messy-data">Dealing with Messy Data</a></li>
<li><a href="#same-tools-different-data">Same Tools, Different Data</a></li>
<li><a href="#understanding-messy-spreadsheets">Understanding Messy Spreadsheets</a></li>
</ul></li>
<li><a href="#spreadsheet-best-practices">Spreadsheet Best Practices</a>
<ul>
<li><a href="#keep-raw-data-raw">Keep Raw Data <code>RAW</code></a></li>
<li><a href="#record-what-you-did-with-readme-tab">Record what you did with <code>README</code> tab</a></li>
<li><a href="#date-standards">Date Standards</a></li>
<li><a href="#keep-one-table-per-tab">Keep one table per tab</a></li>
<li><a href="#dont-merge-or-color-data">Dont Merge or Color Data</a></li>
<li><a href="#missing-data-or-na">Missing Data or <code>NA</code></a></li>
</ul></li>
<li><a href="#pivoting">Pivoting</a>
<ul>
<li><a href="#wide-to-long">Wide to Long</a></li>
<li><a href="#long-to-wide">Long to Wide</a></li>
</ul></li>
</ul>
</nav>
</div>
<div class="obj">
<p><strong>Learning objectives</strong></p>
<ul>
<li>Understand what messy data is and how to avoid it</li>
<li>Understand how to effectively use spreadsheets</li>
<li>Learn the difference between wide and long data, and how to pivot between wide and long formats</li>
</ul>
</div>
<h1 id="spreadsheets">Spreadsheets</h1>
<p>Spreadsheets have been woven into nearly every facet and field, and although they are meant to make our lives easier, it is typical to spend lots of time untangling the data [mis]adventures they create.</p>
<p>However, a few simple tips on how to structure and use spreadsheets can make all the difference. There will still always be messy datasets to face, but learning how to more effectively use spreadsheets <em>will</em> make life easier and more reproducible, and hopefully make these encounters less daunting.</p>
<p>Lets go over what tidy data should look like, how to wrangle a messy real-life spreadsheet, and how to understand the difference between human readable and computer readable information.</p>
<h1 id="what-is-tidy-data">What is Tidy Data?</h1>
<p>Ultimately spreadsheets (or any list or table of data) attempt to take <strong>human readable</strong> data and turn it into <strong><em>computer readable</em></strong> data. The problem is humans often like to add information that is only <strong>human readable</strong> (i.e., colors in spreadsheet). These bits of flair may be nice to visualize things, but computers can only interpret the literal pieces of data in each cell of a spreadsheet, so if we want additional information to be converted (like color, or what it represents), we need to store that information in a <strong>computer readable</strong> context.</p>
<p>Typically when we look at data, we want it to be in a tidy format. Data in a tidy format, means that each <strong>column</strong> is a unique variable, and each <strong>row</strong> is a unique observation of data. Furthermore, any information we want the computer to retain should be stored as <code>variables</code> and not in side comments or coloring. This makes it possible for a computer to easily interpret these data, and avoids any unnecessary conversions or loss of data.</p>

<div class="layout-chunk" data-layout="l-body">
<div class="figure"><span id="fig:tidydata"></span>
<img src="images/tidydata_1.jpg" alt="Illustrations from the Openscapes blog Tidy Data for reproducibility, efficiency, and collaboration by Julia Lowndes and Allison Horst" width="2400" />
<p class="caption">
Figure 1: <em>Illustrations from the Openscapes blog Tidy Data for reproducibility, efficiency, and collaboration by Julia Lowndes and Allison Horst</em>
</p>
</div>
</div>
<h2 id="dealing-with-messy-data">Dealing with Messy Data</h2>
<p>In reality, we will generally encounter non-tidy data in the wild. Messy data comes in many forms and it exists <em>everywhere</em>. Much of data science hinges on cleaning up and reformatting data so it can be used in some way other than the form it exists in. The good news is the concept of tidy data can be applied to <em>any</em> dataset, and there are some very straightforward tips to make this easy to implement!</p>

<div class="layout-chunk" data-layout="l-body">
<div class="figure"><span id="fig:tidydata2"></span>
<img src="images/tidydata_2.jpg" alt="Illustrations from the Openscapes blog Tidy Data for reproducibility, efficiency, and collaboration by Julia Lowndes and Allison Horst" width="2400" />
<p class="caption">
Figure 2: <em>Illustrations from the Openscapes blog Tidy Data for reproducibility, efficiency, and collaboration by Julia Lowndes and Allison Horst</em>
</p>
</div>
</div>
<h2 id="same-tools-different-data">Same Tools, Different Data</h2>
<p>The great news is we can use a similar set of tools to deal with tidying and cleaning our data, and once weve learned these tools, there are few datasets that will stand in your way (though some may take longer than others!). An important thing to learn is that <strong><em>tidy data starts the moment we begin recording information</em></strong>. The more we can collect and update data in a <em>tidy</em> fashion, the less cleaning and wrangling is required to work with that data.</p>

<div class="layout-chunk" data-layout="l-body">
<div class="figure"><span id="fig:tidydata3"></span>
<img src="images/tidydata_3.jpg" alt="Illustrations from the Openscapes blog Tidy Data for reproducibility, efficiency, and collaboration by Julia Lowndes and Allison Horst" width="2872" />
<p class="caption">
Figure 3: <em>Illustrations from the Openscapes blog Tidy Data for reproducibility, efficiency, and collaboration by Julia Lowndes and Allison Horst</em>
</p>
</div>
</div>
<h2 id="understanding-messy-spreadsheets">Understanding Messy Spreadsheets</h2>
<p>An important step towards tidy data is learning to quickly spot where data is <em>messy</em> and what needs to be fixed.</p>
<p>Lets take a look at this <a href="https://github.com/richpauloo/r4wrds-data/raw/main/data/calenviroscreen/ces3results_messy.xlsx"><strong>messy</strong> spreadsheet data</a> which is based on data from the <a href="https://oehha.ca.gov/calenviroscreen">Calenviroscreen data</a> from previous modules.</p>
<p><br></p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="images/messy_spreadsheet_1.png" width="100%" /></p>
</div>
<p><br></p>
<div class="challenge">
<p><strong>CHALLENGE 1</strong></p>
<ul>
<li><strong>What issues do you notice about this spreadsheet?</strong></li>
<li><strong>What could we do to make this tidy?</strong></li>
</ul>
</div>
<details>
<summary class="challenge-ans-title">
<strong>Click for Answers!</strong>
</summary>
<div class="challenge-ans-body">
<ul>
<li><p>Multiple tables on one sheet</p></li>
<li><p>Multiple variables in a single column (see <code>T Code and Data Type</code>)</p></li>
<li><p>Tables start on different rows</p></li>
<li><p>Different date formats</p></li>
<li><p>Different county spellings (see <code>California County</code>)</p></li>
<li><p>Color encoding</p></li>
</ul>
</div>
</details>
<p><br></p>
<details>
<summary class="extra-practice-title">
Extra Practice
</summary>
<div class="extra-practice-body">
<p><em>If you are interested in an excellent lesson on how to improve your spreadsheet skills, checkout the excellent lesson via <a href="https://datacarpentry.org/spreadsheet-ecology-lesson/">Data Carpentry: Data Organization in Spreadsheets for Ecologists</a>. This lesson should be read by anyone and everyone who uses spreadsheets (which is everyone), so go take a look!</em></p>
</div>
</details>
<h1 id="spreadsheet-best-practices">Spreadsheet Best Practices</h1>
<p>If you have to work with a multi-tabbed spreadsheet (which we all do at some point), there are some basic rules/tips that can save you and anyone else that needs to work with the same spreadsheet. We also recommend checking out White et al.2013<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> and Broman and Woo 2018<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>.</p>
<h2 id="keep-raw-data-raw">Keep Raw Data <code>RAW</code></h2>
<p>Any raw data you have should always stay <strong>raw</strong> so you can always go back and reproduce your analysis. The danger with spreadsheets is its easy to change things with a few clicks and overwrite the raw data, and have no record of what you did.</p>
<p>So no matter what shape the data is in, its always advisable to make a copy of the tab with the data, append or prepend RAW to the tab name, and <em>lock</em> the tab so the data cant be deleted or altered. To do this:</p>
<ul>
<li>right click on the tab and select <strong><code>Move or Copy</code></strong></li>
<li>check <strong><code>Create a Copy</code></strong> box</li>
<li>right click on the newly copied tab and select <strong><code>Rename</code></strong> and add <code>RAW</code></li>
<li>right click on the <code>RAW</code> tab again, and select <strong><code>Protect Sheet</code></strong></li>
<li>the only two boxes that should be checked are <code>Select locked cells</code> and <code>Select unlocked cells</code>. Click <code>OK</code> and save!</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<p><img src="images/messy_spreadsheet_2.png" width="100%" /></p>
</div>
<h2 id="record-what-you-did-with-readme-tab">Record what you did with <code>README</code> tab</h2>
<p>While programming languages like <code>R</code> allow us to write scripts or code that record every step of the process, spreadsheet programs use an interface based on points and clicks. Its easy to forget what we clicked on or what we did as we begin to clean/work with our data. An easy solution which your future self (or future collaborators) will thank you for is adding a <strong><code>README</code></strong> tab! This is where you can write notes about what things have been done to the data, ideally with sufficient information that future you or someone else would be able to reproduce your analysis or cleaned dataset by reading the <strong><code>README</code></strong>.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="images/messy_spreadsheet_3.png" width="80%" /></p>
</div>
<h2 id="date-standards">Date Standards</h2>
<p>Perhaps one of the most frustrating and frequent data snafus you may encounter is how dates or datetimes get formatted. An entire lesson could be devoted to dealing with datetime data, but we can simplify it to one rule: <strong>keep dates formatted using the world standard<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> of YYYY-MM-DD</strong>. Better yet, in spreadsheets, split the date into unique columns for Year, Month, and Day. Its straightforward to paste these back together and format them in R, and because they are then stored as simple integer values there will be no missed translations between people or computers.</p>
<aside>
The <a href="https://r4ds.had.co.nz/dates-and-times.html#creating-datetimes#from-strings">Dates and Times lesson</a> from R4DS by H. Wickham &amp; G. Grolemund is an excellent overview on dates and times. Does every minute always have 60 seconds?
</aside>
<div class="layout-chunk" data-layout="l-body">
<p><img src="images/datestandards_global.png" width="80%" /></p>
</div>
<h2 id="keep-one-table-per-tab">Keep one table per tab</h2>
<p>With spreadsheets, it is tempting to add additional summary tables in the same tab you may be working in, or paste another table into the sheet your are working so you can calculate something using a formula. When these data need to be read in by another program (e.g., R), a computer program cannot interpret the visual space our eyes may see between tables as an indication that these tables are separate. Computers are literal, and thus every sheet or tab will always be interpreted as one table by the computer. Follow <em>tidy data</em> principles and keep one table for every sheet. It makes import and export simpler, and in reality tabs are cheap (as are columns). When in doubt, keep things separate and clearly delineated in a way that is both <strong>computer readable</strong> and <strong>human readable</strong>. This includes figuresresist the temptation to include figures in a spreadsheet with a table. Keep them separate!</p>
<h2 id="dont-merge-or-color-data">Dont Merge or Color Data</h2>
<p>Please dont merge cells. Just dont. It creates many issues that are outlined above, and generally requires significant data wrangling to untangle merged data. Merging cells is generally reserved for creating a final table in a word document for display purposes only.</p>
<p>And while using colors can be fun, remember these data are only <strong>human readable</strong>. Add a new column variable to encode these data. Its rare that you will run out of space for new columns or rows, but common that data encoded visually will be forgotten or misinterpreted.</p>
<h2 id="missing-data-or-na">Missing Data or <code>NA</code></h2>
<p>Remember, computers are literal, thus any blank cell will be interpreted as <em>missing data</em> or <strong><code>NA</code></strong> by the computer. Use this to your advantage! Its preferable to have consistent designation of <strong><code>NA</code></strong> (i.e., blank cells) instead of using things like <code>"No data"</code> or <code>-999</code>. These are common ways to encode missing values, but they introduce different problems when trying to analyze or filter the data later. Using a character string like <code>"No data"</code> may unintentionally convert all the data to a <code>character</code> class when imported into R when it is actually numeric or integer (see <a href="m_data_structures.html">module on data structures</a>). If using a numeric value for <code>NA</code> like <code>-999</code>, the computer will interpret these as numbers, and it may be easy to miss or include these data in downstream analyses.</p>
<aside>
<p>Typos happen. Imagine the issues that arise when a number used to signify <code>NA</code> gets mistyped. Now you need to find all <code>-99</code>, <code>-999</code>, and investigate any <code>99</code> numbers. Was there a typo or is this data?</p>
</aside>
<p>Although there is a potential risk to accidentally add a space in a blank cell, the simple and easiest approach for missing or <code>NA</code> data is to leave cells blank. This is generally and consistently interpreted as a missing value by computer programming languages and avoids the need to remember which code was used to signify <code>NA</code>. This also means that a <strong><code>0</code></strong> is a <strong><code>0</code></strong>. Any data that is <strong><code>0</code></strong> should be encoded as such, and not left blank.</p>
<h1 id="pivoting">Pivoting</h1>
<p>When we enter data in a spreadsheet, the data is typically oriented in a <strong><em>wide</em></strong> format. This makes entry easier and is generally easier for us to see, enter, and explore the data. Although <strong><em>wide</em></strong> data is more human-friendly for data entry, <strong><em>long</em></strong> data is much better for analysis and visualization. In particular, in <code>R</code>, the <code>{ggplot}</code> package prefers data in a <strong><em>long</em></strong> format, which facilitates easier filtering, grouping, and faceting of the data.</p>
<h2 id="wide-to-long">Wide to Long</h2>
<p>Lets use the <a href="https://github.com/ryanpeek/r4wrds/blob/main/data/calenviroscreen/ces3results.xlsx?raw=true"><strong><code>ces3results.xlsx</code></strong></a> <a href="https://oehha.ca.gov/calenviroscreen">CalEnviroscreen data</a>, which we can read in and look at the column names and data types. By default, <code>read_xlsx()</code> reads in the first sheet. See the <a href="m_importing_and_exporting_data.html">import and export module</a> for more details.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://readxl.tidyverse.org'>readxl</a></span><span class='op'>)</span>
<span class='va'>ces</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://readxl.tidyverse.org/reference/read_excel.html'>read_xlsx</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/here/man/here.html'>here</a></span><span class='op'>(</span><span class='st'>"data"</span>, <span class='st'>"calenviroscreen"</span>, <span class='st'>"ces3results.xlsx"</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='op'>(</span><span class='va'>ces</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>tibble[,57] [8,035  57] (S3: tbl_df/tbl/data.frame)
 $ Census Tract                                       : num [1:8035] 6019001100 6071001600 6019000200 6077000801 6019001500 ...
 $ Total Population                                   : num [1:8035] 3174 6133 3167 6692 2206 ...
 $ California County                                  : chr [1:8035] &quot;Fresno&quot; &quot;San Bernardino&quot; &quot;Fresno&quot; &quot;San Joaquin&quot; ...
 $ ZIP                                                : num [1:8035] 93706 91761 93706 95203 93725 ...
 $ Nearby City 
(to help approximate location only): chr [1:8035] &quot;Fresno&quot; &quot;Ontario&quot; &quot;Fresno&quot; &quot;Stockton&quot; ...
 $ Longitude                                          : num [1:8035] -120 -118 -120 -121 -120 ...
 $ Latitude                                           : num [1:8035] 36.7 34.1 36.7 37.9 36.7 ...
 $ CES 3.0 Score                                      : num [1:8035] 94.1 90.7 86 82.5 82 ...
 $ CES 3.0 Percentile                                 : num [1:8035] 100 100 100 100 99.9 ...
 $ CES 3.0 
Percentile Range                       : chr [1:8035] &quot;95-100% (highest scores)&quot; &quot;95-100% (highest scores)&quot; &quot;95-100% (highest scores)&quot; &quot;95-100% (highest scores)&quot; ...
 $ SB 535 Disadvantaged Community                     : chr [1:8035] &quot;Yes&quot; &quot;Yes&quot; &quot;Yes&quot; &quot;Yes&quot; ...
 $ Ozone                                              : num [1:8035] 0.0649 0.0622 0.0622 0.0462 0.0649 ...
 $ Ozone Pctl                                         : num [1:8035] 98.2 91.1 91.1 53 98.2 ...
 $ PM2.5                                              : num [1:8035] 15.4 13.3 15.4 12.5 15.4 ...
 $ PM2.5 Pctl                                         : num [1:8035] 97.2 93.6 97.2 84 97.2 ...
 $ Diesel PM                                          : num [1:8035] 48.5 38.6 47.4 24.1 18.8 ...
 $ Diesel PM Pctl                                     : num [1:8035] 95.5 92.1 95.4 73.5 58.2 ...
 $ Drinking Water                                     : num [1:8035] 681 905 681 279 1000 ...
 $ Drinking Water Pctl                                : num [1:8035] 80.9 96.1 80.9 29.1 98.6 ...
 $ Pesticides                                         : num [1:8035] 2.75 1.37 3.03 12.93 3518.41 ...
 $ Pesticides Pctl                                    : num [1:8035] 47.8 41.3 48.8 60.6 95.2 ...
 $ Tox. Release                                       : num [1:8035] 18552 7494 12455 2388 21791 ...
 $ Tox. Release Pctl                                  : num [1:8035] 97.5 89 95.4 70 98.2 ...
 $ Traffic                                            : chr [1:8035] &quot;909.14&quot; &quot;782.26&quot; &quot;576.52&quot; &quot;1305.01&quot; ...
 $ Traffic Pctl                                       : chr [1:8035] &quot;62.977816769018702&quot; &quot;55.658603835067098&quot; &quot;39.002381250783301&quot; &quot;78.293019175335303&quot; ...
 $ Cleanup Sites                                      : num [1:8035] 80.5 66.2 22 50.1 60 ...
 $ Cleanup Sites Pctl                                 : num [1:8035] 98.7 97.7 85.1 96.1 97.2 ...
 $ Groundwater Threats                                : num [1:8035] 45.8 36 30.2 132.1 54.2 ...
 $ Groundwater Threats Pctl                           : num [1:8035] 89.9 85.6 81.9 98.4 92.1 ...
 $ Haz. Waste                                         : num [1:8035] 0.795 1.25 0.2 0.795 13.1 ...
 $ Haz. Waste Pctl                                    : num [1:8035] 84.3 88.8 60.5 84.3 99.7 ...
 $ Imp. Water Bodies                                  : num [1:8035] 0 5 0 19 0 7 14 0 7 0 ...
 $ Imp. Water Bodies Pctl                             : num [1:8035] 0 55 0 98.6 0 ...
 $ Solid Waste                                        : num [1:8035] 21.8 12 2.5 27 50.8 ...
 $ Solid Waste Pctl                                   : num [1:8035] 97.8 92.2 57.2 99.1 99.9 ...
 $ Pollution Burden                                   : num [1:8035] 80 81.2 71.2 74.5 80.2 ...
 $ Pollution Burden Score                             : num [1:8035] 9.85 10 8.76 9.17 9.88 ...
 $ Pollution Burden Pctl                              : num [1:8035] 100 100 99 99.6 100 ...
 $ Asthma                                             : num [1:8035] 131.6 60.7 142.1 142.2 90.5 ...
 $ Asthma Pctl                                        : num [1:8035] 97.7 69.8 98.3 98.3 89.5 ...
 $ Low Birth Weight                                   : chr [1:8035] &quot;7.44&quot; &quot;7.04&quot; &quot;10.16&quot; &quot;6.23&quot; ...
 $ Low Birth Weight Pctl                              : chr [1:8035] &quot;93.835704216327102&quot; &quot;90.849673202614397&quot; &quot;99.7821350762527&quot; &quot;80.648468537741905&quot; ...
 $ Cardiovascular Disease                             : num [1:8035] 14.1 12.9 15 14.7 12.8 ...
 $ Cardiovascular Disease Pctl                        : num [1:8035] 96.3 92.7 97.7 97.2 92.4 ...
 $ Education                                          : chr [1:8035] &quot;53.3&quot; &quot;53.3&quot; &quot;42.3&quot; &quot;40.799999999999997&quot; ...
 $ Education Pctl                                     : chr [1:8035] &quot;95.760787282361804&quot; &quot;95.760787282361804&quot; &quot;89.061317183951502&quot; &quot;87.522079232904403&quot; ...
 $ Linguistic Isolation                               : chr [1:8035] &quot;16.2&quot; &quot;33.4&quot; &quot;16.7&quot; &quot;15.3&quot; ...
 $ Linguistic Isolation Pctl                          : chr [1:8035] &quot;77.509665377949602&quot; &quot;96.253832822290406&quot; &quot;78.389548060258605&quot; &quot;75.136648446873707&quot; ...
 $ Poverty                                            : num [1:8035] 76.3 72.5 86.8 61.3 66.4 66.4 76.2 74.5 75.7 83.4 ...
 $ Poverty Pctl                                       : num [1:8035] 97.1 94.6 99.6 85.6 90.2 ...
 $ Unemployment                                       : chr [1:8035] &quot;17.600000000000001&quot; &quot;12.3&quot; &quot;16.100000000000001&quot; &quot;19.600000000000001&quot; ...
 $ Unemployment Pctl                                  : chr [1:8035] &quot;91.724838177433696&quot; &quot;71.823835512120795&quot; &quot;87.980708211701995&quot; &quot;94.973981469729694&quot; ...
 $ Housing Burden                                     : chr [1:8035] &quot;26&quot; &quot;34.1&quot; &quot;40.1&quot; &quot;21.1&quot; ...
 $ Housing Burden Pctl                                : chr [1:8035] &quot;79.398324447829395&quot; &quot;93.754760091393706&quot; &quot;97.854785478547896&quot; &quot;63.544046712363503&quot; ...
 $ Pop. Char.                                         : num [1:8035] 92.1 87.4 94.6 86.7 80.1 ...
 $ Pop. Char. Score                                   : num [1:8035] 9.55 9.07 9.81 8.99 8.3 ...
 $ Pop. Char. Pctl                                    : num [1:8035] 99.7 98.1 100 97.7 92.8 ...</code></pre>
</div>
<p>Note the different data classes (<code>num</code>, <code>chr</code>, etc). Even though all columns between <code>Ozone</code> and <code>Pop. Char. Pctl</code> should be numeric, there are a number of <code>chr</code> or <em>character</em> data. This is because one of the issues with messy spreadsheets we discussed above. If we were to open the spreadsheet and scroll down through these columns, we may notice there are <code>NA</code>s sprinkled throughout. When importing these data into R, those <code>NA</code> are interpreted as character class, and thus the entire column of numeric data is converted to a character class.</p>
<p>We know these data should all be numeric, so lets fix this using some <code>dplyr</code> knowledge and a cool function called <code>across()</code>. This allows us to apply a function over many columns in a dataset, and it can be used in <code>mutate()</code> or <code>summarize()</code>.</p>
<aside>
<p>Note, we need to use backticks for `<code>column names</code>` because there are spaces and characters in our column names that arent permitted by default in R. Tidy column names are helpful for this. See the excellent <a href="http://sfirke.github.io/janitor/"><code>{janitor}</code></a> package for more info.</p>
</aside>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>ces</span> <span class='op'>&lt;-</span> <span class='va'>ces</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span><span class='fu'>across</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>`Ozone`</span><span class='op'>:</span><span class='va'>`Pop. Char. Pctl`</span><span class='op'>)</span>, <span class='va'>as.numeric</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>

<div class="layout-chunk" data-layout="l-body">
<div class="figure"><span id="fig:across"></span>
<img src="images/dplyr_across.png" alt="Illustration by @allison_horst" width="%80" />
<p class="caption">
Figure 4: <em>Illustration by <span class="citation" data-cites="allison_horst">@allison_horst</span></em>
</p>
</div>
</div>
<p>The warnings are ok! They are saying <code>NAs introduced by coercion</code> which essentially means when converting these data from character to numeric, the <code>NA</code> text is being converted to an actual <strong><code>NA</code></strong> that R can use. Ok, now lets look at the size of this dataset.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>ncol</a></span><span class='op'>(</span><span class='va'>ces</span><span class='op'>)</span> <span class='co'># number of columns</span>
</code></pre>
</div>
<pre><code>[1] 57</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>ces</span><span class='op'>)</span> <span class='co'># number of rows</span>
</code></pre>
</div>
<pre><code>[1] 8035</code></pre>
</div>
<p>So, if we want to reformat or <code>pivot</code> this data from a wide format (there are 57 columns, many of which are distinct variables measured as part of the CES calculation), we want to retain certain columns and collapse others. Lets focus on collapsing all the columns that are used to calculate the CES scores into a single column. So from <code>Ozone:Pop. Char. Pctl</code>, we should have one column well call <code>CES_variables</code> which will be all the various variable names from these columns, and a <code>CES_value</code> which will be the value associated with each of the columns we are collapsing or combining. We need the <code>{tidyr}</code> package for this, which is loaded as part of the <code>{tidyverse}</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyr.tidyverse.org'>tidyr</a></span><span class='op'>)</span>
<span class='va'>ces_long</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://tidyr.tidyverse.org/reference/pivot_longer.html'>pivot_longer</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>ces</span>,
                         <span class='co'># the columns we want to pivot</span>
                         cols <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>`Ozone`</span><span class='op'>:</span><span class='va'>`Pop. Char. Pctl`</span><span class='op'>)</span>,
                         <span class='co'># name of column we create for pivoted col names above</span>
                         names_to <span class='op'>=</span> <span class='st'>"CES_variables"</span>,
                         <span class='co'># name of column we create for pivoted values</span>
                         values_to <span class='op'>=</span> <span class='st'>"CES_values"</span><span class='op'>)</span>
                          
<span class='fu'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='op'>(</span><span class='va'>ces_long</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 369610     13</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='op'>(</span><span class='va'>ces_long</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>tibble[,13] [369,610  13] (S3: tbl_df/tbl/data.frame)
 $ Census Tract                                       : num [1:369610] 6019001100 6019001100 6019001100 6019001100 6019001100 ...
 $ Total Population                                   : num [1:369610] 3174 3174 3174 3174 3174 ...
 $ California County                                  : chr [1:369610] &quot;Fresno&quot; &quot;Fresno&quot; &quot;Fresno&quot; &quot;Fresno&quot; ...
 $ ZIP                                                : num [1:369610] 93706 93706 93706 93706 93706 ...
 $ Nearby City 
(to help approximate location only): chr [1:369610] &quot;Fresno&quot; &quot;Fresno&quot; &quot;Fresno&quot; &quot;Fresno&quot; ...
 $ Longitude                                          : num [1:369610] -120 -120 -120 -120 -120 ...
 $ Latitude                                           : num [1:369610] 36.7 36.7 36.7 36.7 36.7 ...
 $ CES 3.0 Score                                      : num [1:369610] 94.1 94.1 94.1 94.1 94.1 ...
 $ CES 3.0 Percentile                                 : num [1:369610] 100 100 100 100 100 100 100 100 100 100 ...
 $ CES 3.0 
Percentile Range                       : chr [1:369610] &quot;95-100% (highest scores)&quot; &quot;95-100% (highest scores)&quot; &quot;95-100% (highest scores)&quot; &quot;95-100% (highest scores)&quot; ...
 $ SB 535 Disadvantaged Community                     : chr [1:369610] &quot;Yes&quot; &quot;Yes&quot; &quot;Yes&quot; &quot;Yes&quot; ...
 $ CES_variables                                      : chr [1:369610] &quot;Ozone&quot; &quot;Ozone Pctl&quot; &quot;PM2.5&quot; &quot;PM2.5 Pctl&quot; ...
 $ CES_values                                         : num [1:369610] 0.0649 98.1829 15.4 97.2181 48.5238 ...</code></pre>
</div>
<p>Wow! We just condensed our dataset from wide to long by collapsing 46 variables into a single column. That means there is some duplication in the data, but these data will be much easier to work with in {<code>ggplot</code>} or other downstream analyses in R. We can double check this worked as expected, because the original wide dataset had 8035 observations, so if we multiply 8035 * 46 variables, we should get the total number of observations in the <code>ces_long</code> dataset (n=369610).</p>
<h2 id="long-to-wide">Long to Wide</h2>
<p>If we want to do the opposite, and provide these data for folks to add additional variables or enter data, we can use <code>pivot_wider()</code>. Similar to <code>pivot_longer()</code>, we need to specify our columns of interest for the names, and column of interest for the values.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>ces_wide</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://tidyr.tidyverse.org/reference/pivot_wider.html'>pivot_wider</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>ces_long</span>,
                        names_from <span class='op'>=</span> <span class='st'>"CES_variables"</span>,
                        values_from <span class='op'>=</span> <span class='st'>"CES_values"</span>
                        <span class='op'>)</span>
</code></pre>
</div>
</div>
<p>There are many additional options within the {tidyr} <code>pivot_</code> functions. We recommend further reading on <a href="https://r4ds.had.co.nz/tidy-data.html#pivoting"><em>pivoting at R4DS</em></a> and the <a href="https://tidyr.tidyverse.org/articles/pivot.html"><em><code>{tidyr}</code> pivoting vignette</em></a>, as well as checking out the <code>separate()</code> and <code>unite()</code> functions from the same package.</p>
<p>Happy wrangling!</p>

<div class="layout-chunk" data-layout="l-body">
<div class="figure"><span id="fig:tidydata6"></span>
<img src="images/tidydata_6.jpeg" alt="Illustrations from the Openscapes blog Tidy Data for reproducibility, efficiency, and collaboration by Julia Lowndes and Allison Horst" width="2949" />
<p class="caption">
Figure 5: <em>Illustrations from the Openscapes blog Tidy Data for reproducibility, efficiency, and collaboration by Julia Lowndes and Allison Horst</em>
</p>
</div>
</div>
<p><br></p>
<p><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"></p>
<p><a href="m_dplyr.html" class="btn btn-secondary" style="float: left">Previous module:<br> Data Wrangling</a> <a href="m_intro_mapmaking.html" class="btn btn-secondary" style="float: right;">Next module:<br> Spatial Data</a></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<section class="footnotes" role="doc-endnotes">
<hr />
<ol>
<li id="fn1" role="doc-endnote"><p> <a href="https://ojs.library.queensu.ca/index.php/IEE/article/view/4608">White, E. P., E. Baldridge, Z. T. Brym, K. J. Locey, D. J. McGlinn, and S. R. Supp. 2013. Nine simple ways to make it easier to (re)use your data. Ideas in Ecology and Evolution 6.</a> <a href="#fnref1" class="footnote-back" role="doc-backlink"></a></p></li>
<li id="fn2" role="doc-endnote"><p> <a href="https://doi.org/10.1080/00031305.2017.1375989">Broman, K. W., and K. H. Woo. 2018. Data Organization in Spreadsheets. The American Statistician 72:210</a> <a href="#fnref2" class="footnote-back" role="doc-backlink"></a></p></li>
<li id="fn3" role="doc-endnote"><p>See the <a href="https://xkcd.com/1179/">ISO 8601</a> standard.<a href="#fnref3" class="footnote-back" role="doc-backlink"></a></p></li>
</ol>
</section>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<div class="distill-site-nav distill-site-footer">
<p> Copyright 2021 <a href="http://ryanpeek.org/" target = "_blank">Ryan Peek</a> and <a href="https://www.richpauloo.com/" target = "_blank">Rich Pauloo</a>.</p>
<p>Software licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, v2.0</a>.</p>
</div>
<!--/radix_placeholder_navigation_after_body-->


</body>

</html>
